<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.DatePicker?>
<?import java.lang.String?>
<?import javafx.scene.control.TextField?>
<AnchorPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.beadando.oanda.HelloController">
    <TabPane fx:id="mainTabPane" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0" prefWidth="800" prefHeight="500">
        <Tab text="Account Info">
            <AnchorPane>
                <TableView fx:id="accountSummaryTable" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0">
                    <TableColumn fx:id="idColumn" text="Account ID" prefWidth="150"/>
                    <TableColumn fx:id="aliasColumn" text="Alias" prefWidth="100"/>
                    <TableColumn fx:id="currencyColumn" text="Currency" prefWidth="100"/>
                    <TableColumn fx:id="balanceColumn" text="Balance" prefWidth="100"/>
                    <TableColumn fx:id="plColumn" text="PL" prefWidth="100"/>
                    <TableColumn fx:id="marginRateColumn" text="Margin Rate" prefWidth="100"/>
                    <TableColumn fx:id="marginAvailableColumn" text="Margin Available" prefWidth="100"/>
                    <TableColumn fx:id="withdrawalLimitColumn" text="Withdrawal Limit" prefWidth="100"/>
                </TableView>
            </AnchorPane>
        </Tab>
        <Tab text="Aktuális árak">
            <VBox spacing="10" alignment="CENTER">
                <Label text="Válasszon devizapárt" />
                <ComboBox fx:id="currencyPairComboBox" promptText="Válasszon devizapárt" />
                <Label fx:id="currentPriceLabel" text="Jelenlegi ár: " />
                <Button text="Devizapár árának legérdezése" onAction="#handleGetPrice" />
            </VBox>
        </Tab>
        <Tab text="Historikus árak">
            <VBox spacing="10" alignment="CENTER" xmlns:fx="http://javafx.com/fxml" xmlns="http://javafx.com/javafx">
                <Label text="Válasszon devizapárt, kezdő dátumot és végsődátumot."/>
                <HBox spacing="10" alignment="CENTER">
                    <Label text="Devizapár:"/>
                    <ComboBox fx:id="currencyPairComboBox2" promptText="Válasszon devizapárt"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER">
                    <Label text="Start Date:"/>
                    <DatePicker fx:id="startDatePicker"/>
                    <Label text="End Date:"/>
                    <DatePicker fx:id="endDatePicker"/>
                </HBox>
                <Button text="Táblázat ábrázolása:" onAction="#onHistoricalButtonClick"/>
                <TableView fx:id="historicalPricesTable" prefHeight="200">
                    <columns>
                        <TableColumn fx:id="dateColumn" text="Dátum"/>
                        <TableColumn fx:id="priceColumn" text="Ár"/>
                    </columns>
                </TableView>
                <Button text="Grafikon" onAction="#onGrafikonButtonClick"/>
            </VBox>
        </Tab>

        <Tab text="Pozíció nyitás">
            <VBox>
                <Label text="Válassz devizapárt, mennyiséget és irányt"/>
                <ComboBox fx:id="currencyPairComboBox3" promptText="Devizapár" />
                <ComboBox fx:id="amountComboBox" promptText="Mennyiség" />
                <ComboBox fx:id="directionComboBox" promptText="Irány" >
                    <items>
                        <FXCollections fx:factory="observableArrayList">
                            <String fx:value="Vétel"/>
                            <String fx:value="Eladás"/>
                        </FXCollections>
                    </items>
                </ComboBox>
                <Button text="Pozíció megnyitása" onAction="#onOpenPositionButtonClick" />
            </VBox>
        </Tab>
        <Tab text="Pozíció zárás">
            <VBox>
                <Label text="Adja meg a zárni kívánt pozíció azonosítóját:" style="-fx-font-size: 16px;"/>
                <TextField fx:id="positionIdTextField" promptText="Pozíció ID" style="-fx-font-size: 14px; -fx-padding: 10;" prefWidth="250"/>
                <HBox alignment="CENTER" spacing="20">
                    <Button text="Pozíció bezárása" onAction="#onClosePositionClick" style="-fx-font-size: 16px; -fx-padding: 10 20;" prefWidth="200"/>
                </HBox>
                <HBox alignment="CENTER" spacing="20">
                    <Label fx:id="closeStatus" text="Megváltozik a szöveg ha visszajelzett a szerver valamit. " />
                </HBox>
            </VBox>
        </Tab>
        <Tab text="Nyitott pozíciók">
            <VBox>
                <TableView fx:id="positionsTable">
                    <columns>
                        <TableColumn fx:id="positionsidColumn" text="ID" />
                        <TableColumn fx:id="positionsinstrumentColumn" text="Instrument" />
                        <TableColumn fx:id="positionsopenTimeColumn" text="Open Time" />
                        <TableColumn fx:id="positionscurrentUnitsColumn" text="Current Units" />
                        <TableColumn fx:id="positionspriceColumn" text="Price" />
                        <TableColumn fx:id="positionsunrealizedPLColumn" text="Unrealized PnL" />
                    </columns>
                </TableView>
                <HBox alignment="CENTER" spacing="10" >
                    <Button text="Nyitott pozíciók tábla frissítése" onAction="#onShowOpenPositionsClick" maxWidth="400" prefWidth="300" />
                </HBox>
            </VBox>
        </Tab>
    </TabPane>
</AnchorPane>
